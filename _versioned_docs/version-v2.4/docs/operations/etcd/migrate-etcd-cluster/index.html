<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.90.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/v2.4/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/v2.4/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/v2.4/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/v2.4/favicons/android-192x192.png" sizes="192x192">

<title>Etcd node migration | </title><meta property="og:title" content="Etcd node migration" />
<meta property="og:description" content="This procedure explains how to add a new etcd member for your Ondat etcd cluster while removing one of the current members. This is useful when the nodes hosting etcd must be recycled.
 It is assumed that the Ondat etcd cluster is installed following the production etcd installation page, where etcd nodes are installed on their own machines.
  It is also assumed that etcd members are referenced from Kubernetes using a External Service." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.ondat.io/v2.4/docs/operations/etcd/migrate-etcd-cluster/" /><meta property="article:section" content="docs" />



<meta itemprop="name" content="Etcd node migration">
<meta itemprop="description" content="This procedure explains how to add a new etcd member for your Ondat etcd cluster while removing one of the current members. This is useful when the nodes hosting etcd must be recycled.
 It is assumed that the Ondat etcd cluster is installed following the production etcd installation page, where etcd nodes are installed on their own machines.
  It is also assumed that etcd members are referenced from Kubernetes using a External Service.">

<meta itemprop="wordCount" content="1376">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Etcd node migration"/>
<meta name="twitter:description" content="This procedure explains how to add a new etcd member for your Ondat etcd cluster while removing one of the current members. This is useful when the nodes hosting etcd must be recycled.
 It is assumed that the Ondat etcd cluster is installed following the production etcd installation page, where etcd nodes are installed on their own machines.
  It is also assumed that etcd members are referenced from Kubernetes using a External Service."/>



<link rel="stylesheet"  href="/css/font-awesome.css?ver=5.4.1" type="text/css" media="all">



<link rel="preload" href="/v2.4/scss/main.min.fb03b4520433490e70d1855f7f5ccbcf8a9a4f4783328c7c21243c1dbd3945eb.css" as="style">
<link href="/v2.4/scss/main.min.fb03b4520433490e70d1855f7f5ccbcf8a9a4f4783328c7c21243c1dbd3945eb.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>




<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>


<script
  src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.js"
  integrity=""
  crossorigin="anonymous"></script>
<link href="/css/storageos.css" rel="stylesheet">
<script> (function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:1025326,hjsv:6}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv='); </script>
<script src="/js/enable-link-tab.js"></script>


    
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KXRX3CX');</script>


    <title>Etcd node migration | </title>
  </head>
  <body class="td-page">
    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXRX3CX"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


    <header>
      <div id="ondat-lp-header">
  <div class="ondat-lp-header-wrapper">
    <div class="ondat-lp-header-wrapper-left">
      <a class="navbar-brand" href="https://ondat.io">
        <svg width="135" height="24" viewBox="0 0 135 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M48.8466 13.2064V10.5821c0-4.27515 2.2857-6.56086 6.9841-6.56086 4.8254.0 6.9418 2.20106 6.9418 6.56086v2.6243c0 4.2328-2.2857 6.5609-6.9418 6.5609C50.963 19.8096 48.8466 17.6085 48.8466 13.2064zm10.836-2.6243C59.6826 8.0424 58.836 6.94188 55.8731 6.94188c-2.963.0-3.8519 1.10052-3.8519 3.64022v2.6243c0 2.5397.846600000000002 3.6402 3.8519 3.6402 2.9629.0 3.8095-1.0582 3.8095-3.6402V10.5821z" fill="#1239b8"/><path d="M68.91 18.074C68.91 19.1745 68.6561 19.4285 67.5555 19.4285H67.1746C66.074 19.4285 65.8201 19.1745 65.8201 18.074V9.90469C65.8201 5.96818 68.0635 3.97876 72.4656 3.97876 77.0793 3.97876 79.0687 5.96818 79.0687 9.90469V18.074C79.0687 19.1745 78.8148 19.4285 77.7143 19.4285h-.381C76.2328 19.4285 75.9788 19.1745 75.9788 18.074V9.90469C75.9788 7.83061 75.2169 6.94172 72.5079 6.94172 69.7989 6.94172 68.9947 7.87294 68.9947 9.90469V18.074H68.91z" fill="#1239b8"/><path d="M95.1534 13.5026C95.1534 17.6931 92.9947 19.7248 88.6772 19.7248 84.1481 19.7248 82.2433 17.5237 82.2433 13.5026v-2.963c0-4.06347 1.7778-6.26453 6.2646-6.26453 2.5397.0 4.1905.80423 4.9524 2.45502V1.31211C93.4603.719513 93.6296.592529 94.1799.592529H94.3492C94.9418.592529 95.0687.761841 95.0687 1.31211V13.5026H95.1534zm-11.2593.0C83.8941 16.7618 85.037 18.2433 88.7195 18.2433c3.64030000000001.0 4.8254-1.4815 4.8254-4.7407V10.4973C93.5449 7.23803 92.4021 5.75655 88.7195 5.75655 85.0793 5.75655 83.8941 7.23803 83.8941 10.4973v3.0053z" fill="#017efa"/><path d="M111.323 19.0053C111.323 19.5979 111.153 19.7249 110.603 19.7249H110.434C109.841 19.7249 109.714 19.5556 109.714 19.0053V17.3122C108.952 18.9207 107.259 19.7672 104.762 19.7672c-4.487.0-6.2646-2.2434-6.2646-6.2645V10.4974C98.4974 6.43388 100.317 4.27515 104.931 4.27515c4.27500000000001.0 6.476 2.07407 6.476 6.22225v8.5079H111.323zm-11.302-5.5026c0 3.2592 1.143 4.7407 4.82599999999999 4.7407 3.682.0 4.825-1.4815 4.825-4.7407V10.4974c0-3.25929-1.143-4.74077-4.825-4.74077C101.164 5.75663 100.021 7.23811 100.021 10.4974v3.0053z" fill="#017efa"/><path d="M113.862 5.3756C113.862 4.99465 113.947 4.86766 114.413 4.78301l1.947-.21164L116.656 1.14279C116.741.677185 116.868.592529 117.249.592529H117.418C117.884.592529 117.968.761841 117.968 1.14279V4.57137h5.461C124.021 4.57137 124.148 4.74068 124.148 5.29094v.12699C124.148 5.92586 124.021 6.1375 123.429 6.1375h-5.461v8.4233c0 2.709 1.101 3.7248 3.133 3.7248C122.159 18.2856 123.09 18.1587 123.979 17.9047 124.444 17.7354 124.698 17.947 124.698 18.4973V18.6243C124.698 19.1322 124.529 19.3438 123.979 19.4708 123.132 19.7248 122.201 19.8518 121.143 19.8518c-3.217.0-4.783-1.7778-4.783-5.2487V6.05285h-1.947C114.032 6.05285 113.862 5.88353 113.862 5.50258V5.3756z" fill="#017efa"/><path d="M130.794 4.78311C130.794 4.95242 130.751 4.99475 130.582 4.99475H129.905v2.1164C129.905 7.32279 129.862 7.36512 129.651 7.36512H129.566C129.355 7.36512 129.312 7.32279 129.312 7.11115V4.99475H128.635C128.466 4.99475 128.423 4.95242 128.423 4.78311V4.69846C128.423 4.52914 128.466 4.48682 128.635 4.48682h1.947C130.751 4.48682 130.794 4.52914 130.794 4.69846V4.78311zM134.392 7.11115C134.392 7.32279 134.349 7.36512 134.138 7.36512H134.053C133.841 7.36512 133.799 7.32279 133.799 7.11115V4.99475L133.206 7.06883C133.164 7.28047 133.079 7.36512 132.825 7.36512 132.656 7.36512 132.529 7.28047 132.444 7.06883L131.852 4.99475v2.1164C131.852 7.32279 131.81 7.36512 131.598 7.36512H131.513C131.302 7.36512 131.259 7.32279 131.259 7.11115V4.86777c0-.25397.12700000000001-.38095.381-.38095H131.894C132.148 4.48682 132.318 4.65613 132.402 4.95242L132.825 6.60322 133.291 4.86777C133.333 4.57147 133.503 4.48682 133.841 4.48682H133.968C134.222 4.48682 134.349 4.6138 134.349 4.86777V7.11115H134.392z" fill="#017efa"/><path d="M0 7.83057V16.1692l10.1587-4.1905L0 7.83057z" fill="#017efa"/><path d="M10.1587 11.9788l8.9736-3.64018V0L0 7.83069 10.1587 11.9788z" fill="#1239b8"/><path d="M0 16.1692l19.1323 7.8307V15.6613l-8.9736-3.6825L0 16.1692z" fill="#0bbbef"/><path d="M30.0106 11.9787l10.1587 4.1905V7.83057L30.0106 11.9787z" fill="#017efa"/><path d="M40.1692 7.83069 20.9946.0V8.33862l9.0159 3.64018L40.1692 7.83069z" fill="#0bbbef"/><path d="M20.9946 15.6613v8.3386l19.1746-7.8307-10.1587-4.1904-9.0159 3.6825z" fill="#1239b8"/></g><defs><clipPath id="clip0"><rect width="134.392" height="24" fill="#fff"/></clipPath></defs></svg>
        <span class="text-uppercase font-weight-bold"></span>
      </a>
      <ul class="ondat-lp-menu">
        <li class="ondat-lp-menu-drop">
          <a href="#">Platform</a>
          <ul>
            <li><a href="https://ondat.io/platform/platform-overview">Platform Overview</a></li>
            <li><a href="https://ondat.io/platform/how-it-works">How it works</a></li>
          </ul>
        </li>
        <li class="ondat-lp-menu-drop">
          <a href="#">Teams</a>
          <ul>
            <li><a href="https://ondat.io/teams/development">Development</a></li>
            <li><a href="https://ondat.io/teams/devops-sre">DevOps SRE</a></li>
            <li><a href="https://ondat.io/digital-transformation">Digital Transformation</a></li>
          </ul>
        </li>
        <li class="ondat-lp-menu-drop">
          <a href="#">Solutions</a>
          <ul>
            <li><a href="https://ondat.io/solutions/stateful-applications">Stateful Apps</a></li>
            <li><a href="https://ondat.io/solutions/kubernetes-distributions">Kubernetes Distros</a></li>
          </ul>
        </li>
        <li class="ondat-lp-menu-no-drop"><a href="https://www.ondat.io/blog">Blog</a></li>
        <li class="ondat-lp-menu-no-drop"><a href="https://docs.ondat.io">Resources</a></li>
        
        <li class="ondat-lp-menu-drop">
          <a href="#">Releases</a>
          <ul>
            
            <li><a class="dropdown-item" href="/v1.x">v1.x</a></li>
            
            <li><a class="dropdown-item" href="/v2.0">v2.0</a></li>
            
            <li><a class="dropdown-item" href="/v2.1">v2.1</a></li>
            
            <li><a class="dropdown-item" href="/v2.2">v2.2</a></li>
            
            <li><a class="dropdown-item" href="/v2.3">v2.3</a></li>
            
            <li><a class="dropdown-item" href="/v2.4">v2.4</a></li>
            
            <li><a class="dropdown-item" href="/">v2.5</a></li>
            
          </ul>
        </li>
        
      </div>
      </ul>
    <div class="ondat-lp-header-wrapper-right">
      <a href="https://www.ondat.io/request-demo" class="gs-btn">Get started for free</a>
      


<input
  type="search"
  class="form-control td-search-input"
  placeholder="Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/v2.4/offline-search-index.36f1a0944b78b1d5f3944b72c2494db7c927b75e8d0c5bea080f0940d25d34ea8ead5d620c613b65c74a9a8a48045ea6e0422ee6d8a985dbbcca3cb501d2d1bb.json"
  data-offline-search-base-href="/"
>


    </div>
  </div>
</div>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap");

  #ondat-lp-header {
    width: 100%;
    padding: 20px 0;
    background-color: white;
    font-weight: 500;
  }

  .ondat-lp-header-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1240px;
    margin: auto;
  }

  .ondat-lp-header-wrapper-left {
    display: flex;
    align-items: center;
  }

  ul.ondat-lp-menu,
  ul.ondat-lp-menu li {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  ul.ondat-lp-menu {
    display: flex;
  }

  ul.ondat-lp-menu > li {
    margin-left: 48px;
  }

  li.ondat-lp-menu-drop > a {
    display: flex;
    align-items: center;
  }

  li.ondat-lp-menu-no-drop a {
    display: flex;
    align-items: center;
  }

  li.ondat-lp-menu-drop > a:after {
    display: inline-block;
    content: "";
    width: 8px;
    height: 5px;
    margin-left: 6px;
    background: url("images/drop.svg") no-repeat;
  }

  li.ondat-lp-menu-drop ul {
    display: none;
    box-shadow: 0px 10px 35px 5px rgb(50 50 50 / 15%);
    background-color: white;
    border-top: 2px solid #017efa;
    position: absolute;
    padding-left: 0;
    padding: 15px;
    margin-left: 0;
  }

  li.ondat-lp-menu-drop ul > li {
    list-style: none;
    margin-bottom: 10px;
    line-height: normal;
    font-size: 13px;
  }

  li.ondat-lp-menu-drop ul > li:last-child {
    margin-bottom: 0px;
  }

  li.ondat-lp-menu-drop ul > li > a {
    font-size: 13px !important;
    font-weight: 700 !important;
  }

  li.ondat-lp-menu-drop:hover ul {
    display: block;
  }

  li.ondat-lp-menu-drop:hover ul {
    display: block;
  }

  #ondat-lp-header a {
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    color: #081d60;
    font-family: "Plus Jakarta Display";
  }

  .ondat-lp-header-wrapper-right {
    display: flex;
    align-items: center;
  }

  #ondat-lp-header a.gs-btn {
    color: #017efa;
    display: block;
    padding: 10px 24px;
  }

  #ondat-lp-header a.login-btn {
    color: #fff;
    font-weight: 700;
    display: block;
    padding: 10px 24px;
    background-color: #017efa;
    border-radius: 4px;
  }
</style>

    </header>
    <div class="body-search">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#td-section-nav">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/v2.4/offline-search-index.36f1a0944b78b1d5f3944b72c2494db7c927b75e8d0c5bea080f0940d25d34ea8ead5d620c613b65c74a9a8a48045ea6e0422ee6d8a985dbbcca3cb501d2d1bb.json"
  data-offline-search-base-href="/"
>


  </div>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation V2</a>
  </li>
  <ul>
    <li class="collapse show" id="v24docs">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/introduction/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsintroduction">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsintroductionoverview" href="/v2.4/docs/introduction/overview/">Ondat V2 Overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsintroductionquickstart" href="/v2.4/docs/introduction/quickstart/">Quickstart</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsintroductionplatforms" href="/v2.4/docs/introduction/platforms/">Supported Platforms</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsconcepts">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptscluster-topologies" href="/v2.4/docs/concepts/cluster-topologies/">Cluster Topologies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsclusters" href="/v2.4/docs/concepts/clusters/">Clusters</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptscompression" href="/v2.4/docs/concepts/compression/">Compression</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsetcd" href="/v2.4/docs/concepts/etcd/">Etcd</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsfencing" href="/v2.4/docs/concepts/fencing/">Fencing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsnamespaces" href="/v2.4/docs/concepts/namespaces/">Namespaces</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsnodes" href="/v2.4/docs/concepts/nodes/">Nodes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptscomponents" href="/v2.4/docs/concepts/components/">Ondat Components</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptspolicies" href="/v2.4/docs/concepts/policies/">Policies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsrwx" href="/v2.4/docs/concepts/rwx/">ReadWriteMany</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsreplication" href="/v2.4/docs/concepts/replication/">Replication</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsconceptsvolumes" href="/v2.4/docs/concepts/volumes/">Volumes</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/prerequisites/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Prerequisites</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsprerequisites">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitessystemconfiguration" href="/v2.4/docs/prerequisites/systemconfiguration/">System Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitesipv6" href="/v2.4/docs/prerequisites/ipv6/">Availability of IPv6</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitesfirewalls" href="/v2.4/docs/prerequisites/firewalls/">Ports and Firewall settings</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitesmountpropagation" href="/v2.4/docs/prerequisites/mountpropagation/">Mount Propagation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitespidlimits" href="/v2.4/docs/prerequisites/pidlimits/">PID Limits</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitesmax-aio" href="/v2.4/docs/prerequisites/max-aio/">Max AIO</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsprerequisitesetcd" href="/v2.4/docs/prerequisites/etcd/">Etcd</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/install/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Install</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsinstall">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsinstallkubernetes" href="/v2.4/docs/install/kubernetes/">Kubernetes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsinstallopenshift" href="/v2.4/docs/install/openshift/">OpenShift</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsinstallrancher" href="/v2.4/docs/install/rancher/">Rancher</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/platforms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Platforms</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsplatforms">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsaws-eks" href="/v2.4/docs/platforms/aws-eks/">AWS EKS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsazure-aks" href="/v2.4/docs/platforms/azure-aks/">Azure AKS</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsdockeree" href="/v2.4/docs/platforms/dockeree/">DockerEE</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsgoogle-gke" href="/v2.4/docs/platforms/google-gke/">Google GKE</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsopenshift" href="/v2.4/docs/platforms/openshift/">OpenShift</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsplatformsrancher" href="/v2.4/docs/platforms/rancher/">Rancher</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsbest-practices" href="/v2.4/docs/best-practices/">Best Practices</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/operations/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Operations</a>
  </li>
  <ul>
    <li class="collapse show" id="v24docsoperations">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationscluster-id" href="/v2.4/docs/operations/cluster-id/">ClusterID</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsdelete-stos-objects" href="/v2.4/docs/operations/delete-stos-objects/">Deleting Ondat Objects</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsdisk-full" href="/v2.4/docs/operations/disk-full/">Disk Full</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsencryption" href="/v2.4/docs/operations/encryption/">Encryption</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/operations/etcd/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Etcd</a>
  </li>
  <ul>
    <li class="collapse show" id="v24docsoperationsetcd">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-v24docsoperationsetcdmigrate-etcd-cluster" href="/v2.4/docs/operations/etcd/migrate-etcd-cluster/">Etcd node migration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsetcdstorageos-secret-info" href="/v2.4/docs/operations/etcd/storageos-secret-info/">mTLS</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsfailure-modes" href="/v2.4/docs/operations/failure-modes/">Failure Modes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsfencing" href="/v2.4/docs/operations/fencing/">Fencing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsfirstpvc" href="/v2.4/docs/operations/firstpvc/">First PVC</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationshealth" href="/v2.4/docs/operations/health/">Health</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsmanaging-host-storage" href="/v2.4/docs/operations/managing-host-storage/">Host Storage</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationslabel-stos-objects" href="/v2.4/docs/operations/label-stos-objects/">Labeling Ondat Objects</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationslicensing" href="/v2.4/docs/operations/licensing/">Licensing</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsnamespaces" href="/v2.4/docs/operations/namespaces/">Namespaces</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationspolicies" href="/v2.4/docs/operations/policies/">Policies</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsrwx" href="/v2.4/docs/operations/rwx/">ReadWriteMany</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsstorageclasses" href="/v2.4/docs/operations/storageclasses/">StorageClasses</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationstrim" href="/v2.4/docs/operations/trim/">TRIM</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationstroubleshooting" href="/v2.4/docs/operations/troubleshooting/">Troubleshooting</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsuninstall" href="/v2.4/docs/operations/uninstall/">Uninstall Ondat</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsupgrade" href="/v2.4/docs/operations/upgrade/">Upgrade Ondat</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsusers" href="/v2.4/docs/operations/users/">User Management</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsoperationsresize" href="/v2.4/docs/operations/resize/">Volume Resize</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/usecases/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Use Cases</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsusecases">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasescassandra" href="/v2.4/docs/usecases/cassandra/">Cassandra</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecaseselasticsearch" href="/v2.4/docs/usecases/elasticsearch/">Elasticsearch</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesinfluxdb" href="/v2.4/docs/usecases/influxdb/">InfluxDB</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesjenkins" href="/v2.4/docs/usecases/jenkins/">Jenkins</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecaseskafka" href="/v2.4/docs/usecases/kafka/">Kafka</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecaseskubevirt" href="/v2.4/docs/usecases/kubevirt/">Kubevirt</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesmssql" href="/v2.4/docs/usecases/mssql/">MS SQL</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesmysql" href="/v2.4/docs/usecases/mysql/">MySQL</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesnginx" href="/v2.4/docs/usecases/nginx/">Nginx</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasespostgres" href="/v2.4/docs/usecases/postgres/">PostgreSQL</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesprometheus" href="/v2.4/docs/usecases/prometheus/">Prometheus</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesredis" href="/v2.4/docs/usecases/redis/">Redis</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasessidecar-backups" href="/v2.4/docs/usecases/sidecar-backups/">Sidecar Backups</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecasesvelero-backups" href="/v2.4/docs/usecases/velero-backups/">Velero Backups</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsusecaseszookeeper" href="/v2.4/docs/usecases/zookeeper/">Zookeeper</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsreference">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/reference/bundles/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Bundles</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsreferencebundles">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencebundlesdiagnostic-bundle" href="/v2.4/docs/reference/bundles/diagnostic-bundle/">Diagnostic bundle</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencebundlessupport_bundle" href="/v2.4/docs/reference/bundles/support_bundle/">Support bundle</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceapi" href="/v2.4/docs/reference/api/">API Reference</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/reference/cli/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CLI</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsreferencecli">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecliapply" href="/v2.4/docs/reference/cli/apply/">Apply</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecliattach" href="/v2.4/docs/reference/cli/attach/">Attach</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceclicreate" href="/v2.4/docs/reference/cli/create/">Create</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceclidelete" href="/v2.4/docs/reference/cli/delete/">Delete</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceclidescribe" href="/v2.4/docs/reference/cli/describe/">Describe</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceclidetach" href="/v2.4/docs/reference/cli/detach/">Detach Volume</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecliget" href="/v2.4/docs/reference/cli/get/">Get</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceclihelp" href="/v2.4/docs/reference/cli/help/">Help</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecliupdate" href="/v2.4/docs/reference/cli/update/">Update volume</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecliversion" href="/v2.4/docs/reference/cli/version/">Version</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/reference/cluster-operator/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Cluster Operator</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsreferencecluster-operator">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecluster-operatorinstall" href="/v2.4/docs/reference/cluster-operator/install/">Install</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecluster-operatorconfiguration" href="/v2.4/docs/reference/cluster-operator/configuration/">Configuration</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecluster-operatorexamples" href="/v2.4/docs/reference/cluster-operator/examples/">Examples</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecluster-operatorupgrade" href="/v2.4/docs/reference/cluster-operator/upgrade/">Operator upgrade</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencecontributing" href="/v2.4/docs/reference/contributing/">Contributing to the docs</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceencryption" href="/v2.4/docs/reference/encryption/">Encryption</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencegui" href="/v2.4/docs/reference/gui/">GUI</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceinit-container" href="/v2.4/docs/reference/init-container/">Init container</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencekubernetes-object-sync" href="/v2.4/docs/reference/kubernetes-object-sync/">Kubernetes Object Sync</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencelabels" href="/v2.4/docs/reference/labels/">Labels</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencelicence" href="/v2.4/docs/reference/licence/">Licence</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencetelemetry" href="/v2.4/docs/reference/telemetry/">Ondat Telemetry</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceopen_source_attribution" href="/v2.4/docs/reference/open_source_attribution/">Open Source Attribution</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencerelease_notes" href="/v2.4/docs/reference/release_notes/">Release notes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferenceresource_requests_and_limits" href="/v2.4/docs/reference/resource_requests_and_limits/">Resource Requests and Limits</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/v2.4/docs/reference/scheduler/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Scheduler</a>
  </li>
  <ul>
    <li class="collapse " id="v24docsreferencescheduler">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencescheduleradmission-controller" href="/v2.4/docs/reference/scheduler/admission-controller/">Admission Controller</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencefilesystems" href="/v2.4/docs/reference/filesystems/">Supported File systems</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsreferencetolerations" href="/v2.4/docs/reference/tolerations/">Tolerations</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docssupport" href="/v2.4/docs/support/">Support</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-v24docsself-eval" href="/v2.4/docs/self-eval/">Self Evaluation Guide</a>
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            













          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="https://docs.ondat.io/v2.4/docs/">Documentation V2</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docs.ondat.io/v2.4/docs/operations/">Operations</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docs.ondat.io/v2.4/docs/operations/etcd/">Etcd</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://docs.ondat.io/v2.4/docs/operations/etcd/migrate-etcd-cluster/">Etcd node migration</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Etcd node migration</h1>
	
	<p>This procedure explains how to add a new etcd member for your Ondat etcd
cluster while removing one of the current members. This is useful when the
nodes hosting etcd must be recycled.</p>
<blockquote>
<p><strong>It is assumed</strong> that the Ondat etcd cluster is installed following the
<a href="https://docs.ondat.io/v2.4/docs/prerequisites/etcd/#production">production etcd installation</a>
page, where etcd nodes are installed on their own machines.</p>
</blockquote>
<blockquote>
<p><strong>It is also assumed</strong> that etcd members are referenced from Kubernetes using a External
Service. Example available in the <a href="https://github.com/storageos/deploy/tree/master/k8s/deploy-storageos/etcd-helpers/etcd-external-svc">etcd external
Service</a>
example. This service should be referred to in the <code>spec.kvbackend.address</code>
section of your Ondat CustomResource. If that Service is not used, <strong>a full
restart</strong> of the Ondat cluster will be required. The Ondat
CustomResource would need to be removed, and amended to reflect the new etcd
urls created.</p>
</blockquote>
<h2 id="preparation">Preparation</h2>
<p>Prepare the installation of etcd on a new node, <strong>making sure that etcd is not
starting</strong> on that new node.</p>
<p>The steps for preparing an etcd node can be found in the <a href="https://docs.ondat.io/v2.4/docs/prerequisites/etcd/#production">etcd
prerequisites</a>
page.</p>
<ol>
<li>
<p>Back up etcd</p>
<pre tabindex="0"><code>$ export ETCDCTL_API=3

$ # Set all your endpoints
$ export endpoints=&quot;192.168.174.117:2379,192.168.195.168:2379,192.168.174.117:2379&quot;

$ etcdctl --endpoints $endpoints snapshot save /var/tmp/etcd-snapshot.db
</code></pre></li>
<li>
<p>Verify etcd health</p>
<pre tabindex="0"><code>$ export ETCDCTL_API=3

$ # Set all your endpoints
$ export endpoints=&quot;192.168.174.117:2379,192.168.195.168:2379,192.168.174.117:2379&quot;
$ etcdctl member list --endpoints $endpoints -wtable
+------------------+---------+-----------------------+------------------------------+-----------------------------+------------+
|        ID        | STATUS  |         NAME          |         PEER ADDRS           |        CLIENT ADDRS         | IS LEARNER |
+------------------+---------+-----------------------+------------------------------+-----------------------------+------------+
| 7817aa073b059aab | started |  etcd-192.168.195.168 |  http://192.168.195.168:2380 | http://192.168.195.168:2379 |      false |
| e22cdd20a03e5e73 | started |  etcd-192.168.202.40  |  http://192.168.202.40:2380  | http://192.168.202.40:2379  |      false |
| e5d0f0e242014d3d | started |  etcd-192.168.174.117 |  http://192.168.174.117:2380 | http://192.168.174.117:2379 |      false |
+------------------+---------+-----------------------+------------------------------+-----------------------------+------------+

$ etcdctl endpoint health --endpoints $endpoints -wtable
+---------------------+--------+------------+-------+
|      ENDPOINT       | HEALTH |    TOOK    | ERROR |
+---------------------+--------+------------+-------+
|192.168.174.117:2379 |   true | 5.048177ms |       |
|192.168.195.168:2379 |   true | 5.926681ms |       |
|192.168.202.40:2379  |   true | 5.526928ms |       |
+---------------------+--------+------------+-------+

$ etcdctl endpoint status --endpoints $endpoints -wtable
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
|      ENDPOINT       |        ID        | VERSION | DB SIZE | IS LEADER | IS LEARNER | RAFT TERM | RAFT INDEX | RAFT APPLIED INDEX | ERRORS |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
|192.168.174.117:2379 | e5d0f0e242014d3d |   3.4.9 |  311 kB |     false |      false |         2 |       4281 |               4281 |        |
|192.168.195.168:2379 | 7817aa073b059aab |   3.4.9 |  315 kB |     false |      false |         2 |       4281 |               4281 |        |
|192.168.202.40:2379  | e22cdd20a03e5e73 |   3.4.9 |  352 kB |      true |      false |         2 |       4281 |              4281  |        |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
</code></pre></li>
</ol>
<h2 id="migration">Migration</h2>
<blockquote>
<p>In the following procedure NODE4 is a new member to add to the cluster, while
NODE1 ought to be removed.</p>
</blockquote>
<ol>
<li>
<p>Amend etcd configuration to reference the new node (NODE4)</p>
<blockquote>
<p>Make the following change on all running etcd members and NODE4</p>
</blockquote>
<pre tabindex="0"><code>$ # NODE4_IP is the NEW_NODE_ADDRESS
$ echo &quot;NODE4_IP=192.168.152.142&quot; &gt;&gt; /etc/etcd.conf

$ # Check the contents of /etc/etcd.conf
$ cat /etc/etcd.conf
CLIENT_PORT=2379
PEERS_PORT=2380

# NODE_IP is the IP of the node where this file resides.
NODE_IP=192.168.202.40

NODE1_IP=192.168.195.168
NODE2_IP=192.168.202.40
NODE3_IP=192.168.174.117
NODE4_IP=192.168.152.142
</code></pre></li>
<li>
<p>Amend SystemD service file on the new etcd node (NODE4)</p>
<blockquote>
<p>The SystemD service file is expected in <code>/etc/systemd/system/etcd3.service</code></p>
</blockquote>
<p>Change the <code>--initial-cluster-state</code> to <code>existing</code> and add the reference to
NODE4 in the <code>--initial-cluster</code> variable.</p>
<pre tabindex="0"><code>vi /etc/systemd/system/etcd3.service
</code></pre><p>The resulting changes would appear as follows:</p>
<pre tabindex="0"><code>...

ExecStart=/usr/local/sbin/etcd3 --name etcd-${NODE_IP} \
   ...
   --initial-cluster-state existing \
   ...
   --initial-cluster \
        etcd-${NODE1_IP}=http://${NODE1_IP}:${PEERS_PORT},\
        etcd-${NODE2_IP}=http://${NODE2_IP}:${PEERS_PORT},\
        etcd-${NODE3_IP}=http://${NODE3_IP}:${PEERS_PORT},\
        etcd-${NODE4_IP}=http://${NODE4_IP}:${PEERS_PORT}
...

</code></pre><blockquote>
<p>Note the reference to NODE4 at the end of the <code>--initial-cluster</code>
variable</p>
</blockquote>
<p><strong>Make sure etcd is not started on the new member NODE4</strong></p>
</li>
<li>
<p>Add etcd member as a <code>learner</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#8f5902;font-style:italic"># Set environment variable for the the new etcd member (NODE4)</span>
$ <span style="color:#000">NODE4_IP</span><span style="color:#ce5c00;font-weight:bold">=</span>192.168.152.142

$ <span style="color:#000">ETCD_NEW_MEMBER</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;etcd-</span><span style="color:#4e9a06">${</span><span style="color:#000">NODE4_IP</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">&#34;</span>
$ <span style="color:#000">ETCD_NEW_MEMBER_PEER</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;http://</span><span style="color:#000">$NODE4_IP</span><span style="color:#4e9a06">:2380&#34;</span>

<span style="color:#8f5902;font-style:italic"># Add the new member to the cluster</span>
$ <span style="color:#204a87">export</span> <span style="color:#000">ETCDCTL_API</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3</span>

$ etcdctl member add <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>     --learner <span style="color:#000">$ETCD_NEW_MEMBER</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>     --peer-urls<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;</span><span style="color:#000">$ETCD_NEW_MEMBER_PEER</span><span style="color:#4e9a06">&#34;</span>

 Member 52e5c9ac117b3df2 added to cluster b4f4ed717ea44b8d

 <span style="color:#000">ETCD_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;etcd-192.168.152.142&#34;</span>
 <span style="color:#000">ETCD_INITIAL_CLUSTER</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;etcd-192.168.152.142=http://192.168.152.142:2380,etcd-192.168.195.168=http://192.168.195.168:2380,etcd-192.168.202.40=http://192.168.202.40:2380,etcd-192.168.174.117=http://192.168.174.117:2380&#34;</span>
 <span style="color:#000">ETCD_INITIAL_ADVERTISE_PEER_URLS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;http://192.168.152.142:2380&#34;</span>
 <span style="color:#000">ETCD_INITIAL_CLUSTER_STATE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;existing&#34;</span>
</code></pre></div></li>
<li>
<p>Check the etcd members</p>
<pre tabindex="0"><code>$ export endpoints=&quot;192.168.174.117:2379,192.168.195.168:2379,192.168.174.117:2379&quot;

$ etcdctl member list --endpoints $endpoints -wtable
+------------------+-----------+----------------------+-----------------------------+-----------------------------+------------+
|        ID        |  STATUS   |         NAME         |         PEER ADDRS          |        CLIENT ADDRS         | IS LEARNER |
+------------------+-----------+----------------------+-----------------------------+-----------------------------+------------+
| 52e5c9ac117b3df2 | unstarted |                      | http://192.168.152.142:2380 |                             |       true |
| 7817aa073b059aab |   started | etcd-192.168.195.168 | http://192.168.195.168:2380 | http://192.168.195.168:2379 |      false |
| e22cdd20a03e5e73 |   started | etcd-192.168.202.40  | http://192.168.202.40:2380  | http://192.168.202.40:2379  |      false |
| e5d0f0e242014d3d |   started | etcd-192.168.174.117 | http://192.168.174.117:2380 | http://192.168.174.117:2379 |      false |
+------------------+-----------+----------------------+-----------------------------+-----------------------------+------------+
</code></pre><blockquote>
<p>Note that the learner is not started yet</p>
</blockquote>
</li>
<li>
<p>Start etcd on the new node (NODE4)</p>
<blockquote>
<p>Make sure that <code>/etc/systemd/system/etcd.service</code> only have <strong>currently
active</strong> nodes specified in the <code>--initial-cluster</code> flag.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#8f5902;font-style:italic"># On the new node (NODE4)</span>

systemctl daemon-reload
systemctl <span style="color:#204a87">enable</span> etcd3.service
systemctl start etcd3.service
</code></pre></div></li>
<li>
<p>Check the etcd members</p>
<pre tabindex="0"><code>$ export endpoints=&quot;192.168.174.117:2379,192.168.195.168:2379,192.168.174.117:2379&quot;

$ etcdctl member list --endpoints $endpoints -wtable
+------------------+---------+----------------------+-----------------------------+-----------------------------+------------+
|        ID        | STATUS  |         NAME         |         PEER ADDRS          |        CLIENT ADDRS         | IS LEARNER |
+------------------+---------+----------------------+-----------------------------+-----------------------------+------------+
| 52e5c9ac117b3df2 | started | etcd-192.168.152.142 | http://192.168.152.142:2380 | http://192.168.152.142:2379 |       true |
| 7817aa073b059aab | started | etcd-192.168.195.168 | http://192.168.195.168:2380 | http://192.168.195.168:2379 |      false |
| e22cdd20a03e5e73 | started | etcd-192.168.202.40  | http://192.168.202.40:2380  | http://192.168.202.40:2379  |      false |
| e5d0f0e242014d3d | started | etcd-192.168.174.117 | http://192.168.174.117:2380 | http://192.168.174.117:2379 |      false |
+------------------+---------+----------------------+-----------------------------+-----------------------------+------------+

</code></pre><blockquote>
<p>Note that the learner is started</p>
</blockquote>
</li>
<li>
<p>Check that the new learner has the same revision applied as the current
members</p>
<pre tabindex="0"><code>$ export ETCDCTL_API=3
# Added NODE4 in the endpoints variable
$ export endpoints=&quot;192.168.174.117:2379,192.168.195.168:2379,192.168.174.117:2379,192.168.152.142:2379&quot;

etcdctl endpoint status --endpoints $endpoints -wtable
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
|      ENDPOINT       |        ID        | VERSION | DB SIZE | IS LEADER | IS LEARNER | RAFT TERM | RAFT INDEX | RAFT APPLIED INDEX | ERRORS |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
| 192.168.174.117:2379| e5d0f0e242014d3d |   3.4.9 |  352 kB |     false |      false |         2 |      24570 |              24570 |        |
| 192.168.195.168:2379| 7817aa073b059aab |   3.4.9 |  352 kB |     false |      false |         2 |      24570 |              24570 |        |
| 192.168.202.40:2379 | e22cdd20a03e5e73 |   3.4.9 |  352 kB |     true  |      false |         2 |      24570 |              24570 |        |
| 192.168.152.142:2379| 52e5c9ac117b3df2 |   3.4.9 |  467 kB |     false |       true |         2 |      24570 |              24570 |        |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
</code></pre><blockquote>
<p>Wait until the cluster has the learner ready, by ensuring that the
RAFT TERM and RAFT INDEX of the learner node match the rest of the
cluster.</p>
</blockquote>
</li>
<li>
<p>Remove the node that needs to be evicted (NODE1)</p>
<blockquote>
<p>Before promoting the learner to a full member, it is best to remove the
node from the cluster that initially was selected to be decommissioned to
avoid breaking quorum while having 4 nodes being part of the cluster. For
more details, check the <a href="https://etcd.io/docs/v3.4/faq/#should-i-add-a-member-before-removing-an-unhealthy-member">official etcd
documentation</a>
regarding this topic.</p>
</blockquote>
<pre tabindex="0"><code>$ export ETCDCTL_API=3

$ # Select member of id of the node to remove (NODE1)
$ NODE1_MEMBER_ID=e22cdd20a03e5e73

$ etcdctl member remove $NODE1_MEMBER_ID
Member e22cdd20a03e5e73 removed from cluster b4f4ed717ea44b8d
</code></pre></li>
<li>
<p>Promote the learner to a member</p>
<pre tabindex="0"><code>$ export ETCDCTL_API=3

$ # Select member of id of the node to remove (NODE1)
$ NODE4_MEMBER_ID=52e5c9ac117b3df2

$ etcdctl member promote $NODE4_MEMBER_ID
Member 52e5c9ac117b3df2 promoted in cluster b4f4ed717ea44b8d
</code></pre><blockquote>
<p>The promotion will fail if the learner is not in sync with the leader
member.</p>
</blockquote>
</li>
<li>
<p>Check the etcd health</p>
<pre tabindex="0"><code>$ export endpoints=192.168.174.117:2379,192.168.195.168:2379,192.168.152.142:2379

$ etcdctl member list --endpoints $endpoints -wtable
+------------------+---------+---------------------+----------------------------+----------------------------+------------+
|        ID        | STATUS  |        NAME         |         PEER ADDRS         |        CLIENT ADDRS        | IS LEARNER |
+------------------+---------+---------------------+----------------------------+----------------------------+------------+
| 52e5c9ac117b3df2 | started |etcd-192.168.152.142 |http://192.168.152.142:2380 |http://192.168.152.142:2379 |      false |
| 7817aa073b059aab | started |etcd-192.168.195.168 |http://192.168.195.168:2380 |http://192.168.195.168:2379 |      false |
| e5d0f0e242014d3d | started |etcd-192.168.174.117 |http://192.168.174.117:2380 |http://192.168.174.117:2379 |      false |
+------------------+---------+---------------------+----------------------------+----------------------------+------------+

$ etcdctl endpoint status --endpoints $endpoints -wtable
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
|      ENDPOINT       |        ID        | VERSION | DB SIZE | IS LEADER | IS LEARNER | RAFT TERM | RAFT INDEX | RAFT APPLIED INDEX | ERRORS |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
|192.168.174.117:2379 | e5d0f0e242014d3d |   3.4.9 |  352 kB |     false |      false |         3 |      35939 |              35939 |        |
|192.168.195.168:2379 | 7817aa073b059aab |   3.4.9 |  352 kB |      true |      false |         3 |      35939 |              35939 |        |
|192.168.152.142:2379 | 52e5c9ac117b3df2 |   3.4.9 |  467 kB |     false |      false |         3 |      35939 |              35939 |        |
+---------------------+------------------+---------+---------+-----------+------------+-----------+------------+--------------------+--------+
</code></pre><blockquote>
<p>Note that NODE4 is now a full quorum member, while NODE1 is no longer
part of the cluster</p>
</blockquote>
</li>
<li>
<p>Edit Endpoints referencing the Kubernetes Service</p>
<blockquote>
<p>Remove the reference to NODE1 and add the IP for NODE4</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl edit -n storageos-etcd endpoints/storageos-etcd
</code></pre></div></li>
<li>
<p>Make amendments in the SystemD configuration files removing any reference to
NODE1</p>
<blockquote>
<p>It is not required to restart the etcd service, but to keep the service
file up to date.</p>
</blockquote>
</li>
</ol>

	
	
	<div class="text-muted mt-5 pt-3 border-top"></div>
</div>


          </main>
        </div>
      </div>

    </div>
    <div id="ondat-lp-footer">
  <div class="ondat-lp-footer-wrapper">
    <div class="ondat-lp-footer-wrapper-left">
      <a class="navbar-brand" href="https://ondat.io">
        <svg width="135" height="24" viewBox="0 0 135 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M48.8466 13.2064V10.5821c0-4.27515 2.2857-6.56086 6.9841-6.56086 4.8254.0 6.9418 2.20106 6.9418 6.56086v2.6243c0 4.2328-2.2857 6.5609-6.9418 6.5609C50.963 19.8096 48.8466 17.6085 48.8466 13.2064zm10.836-2.6243C59.6826 8.0424 58.836 6.94188 55.8731 6.94188c-2.963.0-3.8519 1.10052-3.8519 3.64022v2.6243c0 2.5397.846600000000002 3.6402 3.8519 3.6402 2.9629.0 3.8095-1.0582 3.8095-3.6402V10.5821z" fill="#1239b8"/><path d="M68.91 18.074C68.91 19.1745 68.6561 19.4285 67.5555 19.4285H67.1746C66.074 19.4285 65.8201 19.1745 65.8201 18.074V9.90469C65.8201 5.96818 68.0635 3.97876 72.4656 3.97876 77.0793 3.97876 79.0687 5.96818 79.0687 9.90469V18.074C79.0687 19.1745 78.8148 19.4285 77.7143 19.4285h-.381C76.2328 19.4285 75.9788 19.1745 75.9788 18.074V9.90469C75.9788 7.83061 75.2169 6.94172 72.5079 6.94172 69.7989 6.94172 68.9947 7.87294 68.9947 9.90469V18.074H68.91z" fill="#1239b8"/><path d="M95.1534 13.5026C95.1534 17.6931 92.9947 19.7248 88.6772 19.7248 84.1481 19.7248 82.2433 17.5237 82.2433 13.5026v-2.963c0-4.06347 1.7778-6.26453 6.2646-6.26453 2.5397.0 4.1905.80423 4.9524 2.45502V1.31211C93.4603.719513 93.6296.592529 94.1799.592529H94.3492C94.9418.592529 95.0687.761841 95.0687 1.31211V13.5026H95.1534zm-11.2593.0C83.8941 16.7618 85.037 18.2433 88.7195 18.2433c3.64030000000001.0 4.8254-1.4815 4.8254-4.7407V10.4973C93.5449 7.23803 92.4021 5.75655 88.7195 5.75655 85.0793 5.75655 83.8941 7.23803 83.8941 10.4973v3.0053z" fill="#017efa"/><path d="M111.323 19.0053C111.323 19.5979 111.153 19.7249 110.603 19.7249H110.434C109.841 19.7249 109.714 19.5556 109.714 19.0053V17.3122C108.952 18.9207 107.259 19.7672 104.762 19.7672c-4.487.0-6.2646-2.2434-6.2646-6.2645V10.4974C98.4974 6.43388 100.317 4.27515 104.931 4.27515c4.27500000000001.0 6.476 2.07407 6.476 6.22225v8.5079H111.323zm-11.302-5.5026c0 3.2592 1.143 4.7407 4.82599999999999 4.7407 3.682.0 4.825-1.4815 4.825-4.7407V10.4974c0-3.25929-1.143-4.74077-4.825-4.74077C101.164 5.75663 100.021 7.23811 100.021 10.4974v3.0053z" fill="#017efa"/><path d="M113.862 5.3756C113.862 4.99465 113.947 4.86766 114.413 4.78301l1.947-.21164L116.656 1.14279C116.741.677185 116.868.592529 117.249.592529H117.418C117.884.592529 117.968.761841 117.968 1.14279V4.57137h5.461C124.021 4.57137 124.148 4.74068 124.148 5.29094v.12699C124.148 5.92586 124.021 6.1375 123.429 6.1375h-5.461v8.4233c0 2.709 1.101 3.7248 3.133 3.7248C122.159 18.2856 123.09 18.1587 123.979 17.9047 124.444 17.7354 124.698 17.947 124.698 18.4973V18.6243C124.698 19.1322 124.529 19.3438 123.979 19.4708 123.132 19.7248 122.201 19.8518 121.143 19.8518c-3.217.0-4.783-1.7778-4.783-5.2487V6.05285h-1.947C114.032 6.05285 113.862 5.88353 113.862 5.50258V5.3756z" fill="#017efa"/><path d="M130.794 4.78311C130.794 4.95242 130.751 4.99475 130.582 4.99475H129.905v2.1164C129.905 7.32279 129.862 7.36512 129.651 7.36512H129.566C129.355 7.36512 129.312 7.32279 129.312 7.11115V4.99475H128.635C128.466 4.99475 128.423 4.95242 128.423 4.78311V4.69846C128.423 4.52914 128.466 4.48682 128.635 4.48682h1.947C130.751 4.48682 130.794 4.52914 130.794 4.69846V4.78311zM134.392 7.11115C134.392 7.32279 134.349 7.36512 134.138 7.36512H134.053C133.841 7.36512 133.799 7.32279 133.799 7.11115V4.99475L133.206 7.06883C133.164 7.28047 133.079 7.36512 132.825 7.36512 132.656 7.36512 132.529 7.28047 132.444 7.06883L131.852 4.99475v2.1164C131.852 7.32279 131.81 7.36512 131.598 7.36512H131.513C131.302 7.36512 131.259 7.32279 131.259 7.11115V4.86777c0-.25397.12700000000001-.38095.381-.38095H131.894C132.148 4.48682 132.318 4.65613 132.402 4.95242L132.825 6.60322 133.291 4.86777C133.333 4.57147 133.503 4.48682 133.841 4.48682H133.968C134.222 4.48682 134.349 4.6138 134.349 4.86777V7.11115H134.392z" fill="#017efa"/><path d="M0 7.83057V16.1692l10.1587-4.1905L0 7.83057z" fill="#017efa"/><path d="M10.1587 11.9788l8.9736-3.64018V0L0 7.83069 10.1587 11.9788z" fill="#1239b8"/><path d="M0 16.1692l19.1323 7.8307V15.6613l-8.9736-3.6825L0 16.1692z" fill="#0bbbef"/><path d="M30.0106 11.9787l10.1587 4.1905V7.83057L30.0106 11.9787z" fill="#017efa"/><path d="M40.1692 7.83069 20.9946.0V8.33862l9.0159 3.64018L40.1692 7.83069z" fill="#0bbbef"/><path d="M20.9946 15.6613v8.3386l19.1746-7.8307-10.1587-4.1904-9.0159 3.6825z" fill="#1239b8"/></g><defs><clipPath id="clip0"><rect width="134.392" height="24" fill="#fff"/></clipPath></defs></svg>
        <span class="text-uppercase font-weight-bold"></span>
      </a>
      <ul>
        <li class="ondat-lp-footer-header">Platform</li>
        <li><a href="https://ondat.io/platform/platform-overview">Platform Overview</a></li>
        <li><a href="https://ondat.io/platform/how-it-works">How it works</a></li>
      </ul>
      <ul>
        <li class="ondat-lp-footer-header">Teams</li>
        <li><a href="https://ondat.io/teams/development">Development</a></li>
        <li><a href="https://ondat.io/teams/devops-sre">DevOps SRE</a></li>
        <li><a href="https://ondat.io/digital-transformation">Digital Transformation</a></li>
      </ul>
      <ul>
        <li class="ondat-lp-footer-header">Solutions</li>
        <li><a href="https://ondat.io/solutions/stateful-applications">Stateful Apps</a></li>
        <li><a href="https://ondat.io/solutions/kubernetes-distributions">Kubernetes Distros</a></li>
      </ul>
      <ul>
        <li class="ondat-lp-footer-header">Blog</li>
        <li class="ondat-lp-footer-header"><a href="https://www.ondat.io/blog">Ondat Blog</a></li>
      </ul>
      <ul>
        <li class="ondat-lp-footer-header">Contact Us</li>
      </ul>
    </div>
    <div class="ondat-lp-footer-wrapper-right"></div>
  </div>
</div>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap");
  #ondat-lp-footer {
    background-color: #f8f9ff;
    padding: 120px 0;
  }
  .ondat-lp-footer-wrapper {
    max-width: 1240px;
    margin: auto;
    display: flex;
  }
  .ondat-lp-footer-wrapper-left {
    display: flex;
  }

  .ondat-lp-footer-wrapper-left ul,
  .ondat-lp-footer-wrapper-left ul li {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  .ondat-lp-footer-wrapper-left ul {
    margin-left: 60px;
  }
  .ondat-lp-footer-wrapper-left ul li a {
    text-decoration: none;
    color: #5e6a8e;
    font-weight: 400;
    font-size: 12px;
    margin-top: 18px;
    display: block;
  }
  .ondat-lp-footer-wrapper-left ul li.ondat-lp-footer-header {
    font-weight: 700;
    font-size: 14px;
    color: #081d60;
  }
  .ondat-lp-footer-wrapper-right {
  }
</style>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/v2.4/js/main.min.648fa099c4460d7e569f8c1e4ae2eaf6b7ed3e7235aabe0f50e72f2356c5e7d9.js" integrity="sha256-ZI&#43;gmcRGDX5Wn4weSuLq9rftPnI1qr4PUOcvI1bF59k=" crossorigin="anonymous"></script>


<script type="text/javascript"
	  id="hs-script-loader"
	  async
	  defer
	  src="//js.hs-scripts.com/3402546.js"></script>



  </body>
</html>
